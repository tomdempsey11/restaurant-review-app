// Import order matters: tokens → helpers → layout → components
@import 'variables';
@import 'mixins';
@import 'layout';
@import 'components';

/* ---- Global tokens ---- */
:root {
  --bg: #f7f7f9;
  --ink: #222;
  --muted: #666;
  --brand: #3b82f6;
  --card: #fff;
  --error: #b91c1c;
}

/* ---- Base ---- */
* { box-sizing: border-box; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
.content { padding: 20px; max-width: 1040px; margin: 0 auto; }

.site-header,
.site-footer {
  background: #fff;
  border-bottom: 1px solid #eee;
  padding: 12px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.site-footer { border-top: 1px solid #eee; border-bottom: 0; }

.link-like { background:none; border:none; cursor:pointer; padding:0; font:inherit; }

/* ---- Header + Nav (fixed) ---- */
.site-header .container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
}

.site-nav {
  display: flex;
  align-items: center;
  gap: 28px; /* spacing between items */
}

.site-nav a,
.site-nav .link-like {
  color: var(--ink);
  text-decoration: none;
}

.site-nav a:hover { text-decoration: underline; }

.site-nav a.active {
  background: #eef2f7;
  border-radius: 12px;
  padding: 8px 14px;
  text-decoration: none;
}

.site-nav .nav__auth {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: 12px;
}

/* Hamburger vis (desktop hidden) */
.menu-toggle { display: none; }

/* =========================
   Mobile menu polish (NEW)
   ========================= */
.site-header { position: sticky; top: 0; z-index: 100; }

@media (max-width: 900px) {
  .menu-toggle {
    display: inline-flex;
    width: 40px; height: 40px;
    align-items: center; justify-content: center;
    border: 0; background: #fff; border-radius: 10px;
    box-shadow: 0 1px 2px rgba(0,0,0,.06);
  }
  .menu-toggle:focus { outline: 2px solid #93c5fd; outline-offset: 2px; }
  .menu-toggle__bar {
    display: block; width: 20px; height: 2px; background: #111; margin: 3px 0; border-radius: 2px;
  }

  /* dropdown panel */
  .site-nav {
    position: absolute;
    top: calc(100% + 10px);
    right: 16px;
    left: auto;
    display: block; /* keep block to animate opacity */
    width: min(92vw, 360px);
    padding: 10px;
    background: #fff;
    border: 1px solid #e5e7eb;
    border-radius: 14px;
    box-shadow: 0 12px 30px rgba(15,23,42,.15);
    opacity: 0;
    transform: translateY(-6px) scale(.98);
    pointer-events: none;
    transition: opacity .18s ease, transform .18s ease;
    z-index: 120;
  }
  .site-nav.open {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
  }

  .site-nav a,
  .site-nav .link-like {
    display: block;
    padding: 10px 12px;
    border-radius: 10px;
    color: var(--ink);
    text-decoration: none;
  }
  .site-nav a:hover { background: #f3f4f6; text-decoration: none; }
  .site-nav a.active { background: #eef2f7; }

  .site-nav .nav__auth {
    display: flex; gap: 10px; align-items: center; justify-content: space-between;
    margin-top: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb;
  }
}

/* page backdrop when menu is open */
body.is-mobile-nav-open::before {
  content: ""; position: fixed; inset: 0;
  background: rgba(0,0,0,.25);
  backdrop-filter: saturate(120%) blur(1px);
  z-index: 110; /* below dropdown (120), above page */
}

/* ---- Cards/forms misc ---- */
.hero { background:#fff; padding:24px; border:1px solid #eee; border-radius:8px; }
.search { display:flex; gap:8px; }
.cards { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:16px; }
.card  { background:var(--card); padding:20px; border:1px solid #eee; border-radius:8px; box-shadow:0 1px 2px rgba(0,0,0,0.03); }
.form-stack { display:grid; gap:8px; max-width:420px; }
.error { background:#fee2e2; color:var(--error); padding:10px; border-radius:6px; margin-bottom:10px; }

/* ---- Hero (image variant) ---- */
.hero--image {
  position: relative;
  min-height: clamp(380px, 55vh, 620px);
  display: grid;
  place-items: center;
  background: #0b1020 url('/images/hero.jpg') center/cover no-repeat fixed;
  color: #fff;
  isolation: isolate; /* predictable z-index layering */
}

.hero--image .hero__overlay {
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(2,6,23,.55), rgba(2,6,23,.35)),
    radial-gradient(60% 60% at 15% 10%, rgba(99,102,241,.28), transparent 60%);
  pointer-events: none;
  z-index: 0;
}
.hero--image .hero__inner { position: relative; z-index: 1; }

.hero__eyebrow {
  opacity: .9;
  font-weight: 800;
  letter-spacing: .08em;
  text-transform: uppercase;
  margin-bottom:.5rem;
}
.hero__title { color:#fff; margin:0 0 .5rem 0; text-shadow:0 2px 4px rgba(0,0,0,.45); }
.hero__sub   { color: rgba(255,255,255,.9); max-width:65ch; margin:0 auto; }

/* ---- Home: Featured grid ---- */
#homeFeatured { margin-top: 1rem; }

#homeFeatured .hf-title {
  text-align: center;
  margin: 0 0 1rem 0;
  font-weight: 700;
  font-size: clamp(1.5rem, 1.2rem + 1vw, 2rem);
}

#homeFeatured .hf-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr; /* mobile */
}
@media (min-width: 640px)  { #homeFeatured .hf-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { #homeFeatured .hf-grid { grid-template-columns: repeat(4, 1fr); } }

#homeFeatured .hf-card {
  display: flex;
  flex-direction: column;
  text-decoration: none;
  color: inherit;
  background: #fff;
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(15,23,42,.05);
  transition: transform .25s ease, box-shadow .25s ease;
}
#homeFeatured .hf-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 18px 50px rgba(15,23,42,.12);
}

#homeFeatured .hf-img { width:100%; height:180px; object-fit:cover; background:#f1f5f9; }
#homeFeatured .hf-img--ph { display:grid; place-items:center; font-size:2rem; color:#94a3b8; }

#homeFeatured .hf-content { padding:1rem 1.25rem; }
#homeFeatured .hf-name { margin:0 0 .3rem 0; font-weight:700; font-size:1.1rem; }
#homeFeatured .hf-meta { margin:0; color:#64748b; font-size:.95rem; }
